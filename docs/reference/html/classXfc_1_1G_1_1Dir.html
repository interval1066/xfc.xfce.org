<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>



  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">



  
  
  
  
  
  
  <title>Xfce Foundation Classes</title>
  <meta content="XFC Reference Manual" name="description">



  
  
  
  <meta content="The XFC Development Team" name="author">



  
  
  
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>


<body>



<table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="background-color: rgb(21, 67, 116); text-align: center; height: 25px;"><span style="color: rgb(255, 255, 192); font-weight: bold; font-family: Helvetica,Arial,sans-serif;"><br>



      </span></td>



    </tr>



    <tr>



      <td style="text-align: center; background-color: rgb(255, 255, 255); height: 25px;"><span style="font-weight: bold; font-family: Helvetica,Arial,sans-serif; color: rgb(17, 55, 95);">Xfce
Foundation Classes</span><br>



      </td>



    </tr>



    <tr style="font-family: Helvetica,Arial,sans-serif;">



      <td style="height: 25px; text-align: center; background-color: rgb(153, 169, 192);"><font size="-1"><a class="qindexH" href="../../index.html">Main Page</a>&nbsp;
| <a class="qindexH" href="index.html">Index</a> |&nbsp; <a class="qindexH" href="namespaces.html">Namespace
List</a>&nbsp; |&nbsp; <a class="qindexH" href="classes.html">Alphabetical
List</a>&nbsp;
|&nbsp; <a class="qindexH" href="annotated.html">Class List</a>&nbsp;
|&nbsp; <a class="qindexH" href="files.html">File List</a></font> </td>



    </tr>



  
  
  
  </tbody>
</table>



<br>



<br>



</body>
</html>
<!-- Generated by Doxygen 1.5.1 -->
<div class="nav">
<a class="el" href="namespaceXfc.html">Xfc</a>::<a class="el" href="namespaceXfc_1_1G.html">G</a>::<a class="el" href="classXfc_1_1G_1_1Dir.html">Dir</a></div>
<h1>Xfc::G::Dir Class Reference</h1><!-- doxytag: class="Xfc::G::Dir" --><!-- doxytag: inherits="Xfc::StackObject" -->A GDir C++ wrapper interface.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;xfc/glib/fileutils.hh&gt;</code>
<p>
<p>Inheritance diagram for Xfc::G::Dir:
<p><center><img src="classXfc_1_1G_1_1Dir.png" usemap="#Xfc::G::Dir_map" border="0" alt=""></center>
<map name="Xfc::G::Dir_map">
<area href="classXfc_1_1StackObject.html" alt="Xfc::StackObject" shape="rect" coords="0,0,106,24">
</map>
<a href="classXfc_1_1G_1_1Dir-members.html">List of all members.</a><h2>Public Member Functions</h2>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<ul>
<li>bool <a class="el" href="classXfc_1_1G_1_1Dir.html#f6c8f57e82d0a22cf2437fe0959c532c">is_open</a> () const
<dl class="el"><dd class="mdescRight">Determines whether the directory is open.  <a href="#f6c8f57e82d0a22cf2437fe0959c532c"></a><br></dl></ul>
<tr><td colspan="2"><div class="groupHeader">Methods</div></td></tr>
<ul>
<li>bool <a class="el" href="classXfc_1_1G_1_1Dir.html#a1160e87d8abe3cae971af3fc7ef47cd">open</a> (const std::string &amp;path, <a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *error)
<dl class="el"><dd class="mdescRight">Opens a directory for reading.  <a href="#a1160e87d8abe3cae971af3fc7ef47cd"></a><br></dl><li>const char * <a class="el" href="classXfc_1_1G_1_1Dir.html#7ca37d6a39fd9a7dcdf69e51c653127c">read_name</a> ()
<dl class="el"><dd class="mdescRight">Retrieves the name of the next entry in the directory (the '.  <a href="#7ca37d6a39fd9a7dcdf69e51c653127c"></a><br></dl><li>int <a class="el" href="classXfc_1_1G_1_1Dir.html#2ac04062b757036f5790cceb4b7ef3ef">read_names</a> (std::vector&lt; std::string &gt; &amp;names)
<dl class="el"><dd class="mdescRight">Gets a list of the names of all the entries in the directory (the '.  <a href="#2ac04062b757036f5790cceb4b7ef3ef"></a><br></dl><li><a class="anchor" name="bbe2435eda45e13672e4ebee9e28f17f"></a><!-- doxytag: member="Xfc::G::Dir::rewind" ref="bbe2435eda45e13672e4ebee9e28f17f" args="()" -->
void <a class="el" href="classXfc_1_1G_1_1Dir.html#bbe2435eda45e13672e4ebee9e28f17f">rewind</a> ()
<dl class="el"><dd class="mdescRight">Resets the given directory so that the next call to <a class="el" href="classXfc_1_1G_1_1Dir.html#7ca37d6a39fd9a7dcdf69e51c653127c">read_name()</a> will return the first entry again. <br></dl><li><a class="anchor" name="41be323b2d1e393c715609d29e06def3"></a><!-- doxytag: member="Xfc::G::Dir::close" ref="41be323b2d1e393c715609d29e06def3" args="()" -->
void <a class="el" href="classXfc_1_1G_1_1Dir.html#41be323b2d1e393c715609d29e06def3">close</a> ()
<dl class="el"><dd class="mdescRight">Closes the directory and deallocates all related resources. <br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A GDir C++ wrapper interface. 
<p>
<a class="el" href="classXfc_1_1G_1_1Dir.html">Dir</a> is an object that represents a file directory. <a class="el" href="classXfc_1_1G_1_1Dir.html">Dir</a> is a <a class="el" href="classXfc_1_1StackObject.html">StackObject</a>, that is it must created on the stack. You can't allocate <a class="el" href="classXfc_1_1G_1_1Dir.html">Dir</a> dynamically.<p>
<b>Example 1:</b> You can construct an empty directory object using the default constructor and then call open(). <div class="fragment"><pre class="fragment"> G::Dir dir;
 std::string dirname(<span class="stringliteral">"/home"</span>);
 <span class="keywordflow">if</span> (dir.open(dirname))
 {
        <span class="comment">// read directory</span>
 }
 dir.close();
</pre></div><p>
<b>Example 2:</b> Alternatively you can construct and open a directory object in one step by calling one of the parameterized constructors. <div class="fragment"><pre class="fragment"> std::string dirname;
 G::Error error;
 G::Dir dir(dirname, &amp;error);
 <span class="keywordflow">if</span> (dir.is_open())
 {
        <span class="comment">// read directory</span>
 }
 dir.close();
</pre></div><p>
You don't have to explicitly call <a class="el" href="classXfc_1_1G_1_1Dir.html#41be323b2d1e393c715609d29e06def3">Dir::close()</a> as above, unless you want to. When a directory object goes out of scope its destructor will check for an open directory and close it.<p>
For convenience the entries in a directory can be read individually by calling <a class="el" href="classXfc_1_1G_1_1Dir.html#7ca37d6a39fd9a7dcdf69e51c653127c">read_name()</a> or at once by calling <a class="el" href="classXfc_1_1G_1_1Dir.html#2ac04062b757036f5790cceb4b7ef3ef">read_names()</a>. The latter method fills a user-supplied 'stdvector of String' with the entry names. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b9b6ecc2e44d6f32301e1f970cb2ca49"></a><!-- doxytag: member="Xfc::G::Dir::Dir" ref="b9b6ecc2e44d6f32301e1f970cb2ca49" args="(const std::string &amp;path, G::Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::G::Dir::Dir           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a directory object and opens the directory <em>path</em>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The path to the directory you are interested in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The return location for a <a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a>, or null.</td></tr>
  </table>
</dl>
If the directory <em>path</em> is successfully opened <a class="el" href="classXfc_1_1G_1_1Dir.html#f6c8f57e82d0a22cf2437fe0959c532c">is_open()</a> returns true. If an error occurs <a class="el" href="classXfc_1_1G_1_1Dir.html#f6c8f57e82d0a22cf2437fe0959c532c">is_open()</a> returns false and <em>error</em> will contain information about the error. 
</div>
</div><p>
<a class="anchor" name="b9b6ecc2e44d6f32301e1f970cb2ca49"></a><!-- doxytag: member="Xfc::G::Dir::Dir" ref="b9b6ecc2e44d6f32301e1f970cb2ca49" args="(const std::string &amp;path, G::Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::G::Dir::Dir           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a directory object and opens the directory <em>path</em>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The path to the directory you are interested in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The return location for a <a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a>, or null.</td></tr>
  </table>
</dl>
If the directory <em>path</em> is successfully opened <a class="el" href="classXfc_1_1G_1_1Dir.html#f6c8f57e82d0a22cf2437fe0959c532c">is_open()</a> returns true. If an error occurs <a class="el" href="classXfc_1_1G_1_1Dir.html#f6c8f57e82d0a22cf2437fe0959c532c">is_open()</a> returns false and <em>error</em> will contain information about the error. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f6c8f57e82d0a22cf2437fe0959c532c"></a><!-- doxytag: member="Xfc::G::Dir::is_open" ref="f6c8f57e82d0a22cf2437fe0959c532c" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Xfc::G::Dir::is_open           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determines whether the directory is open. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> if the directory is open. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a1160e87d8abe3cae971af3fc7ef47cd"></a><!-- doxytag: member="Xfc::G::Dir::open" ref="a1160e87d8abe3cae971af3fc7ef47cd" args="(const std::string &amp;path, G::Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Xfc::G::Dir::open           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens a directory for reading. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The path to the directory you are interested in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The return location for a <a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a>, or null. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> if this method is successful, <em>false</em> otherwise.</dd></dl>
The names of the files in the directory can then be retrieved using <a class="el" href="classXfc_1_1G_1_1Dir.html#7ca37d6a39fd9a7dcdf69e51c653127c">read_name()</a>. If <em>error</em> is non-null, an error will be set if and only if this method fails. If successful you can either explicitly call <a class="el" href="classXfc_1_1G_1_1Dir.html#41be323b2d1e393c715609d29e06def3">close()</a> or let the dir object call <a class="el" href="classXfc_1_1G_1_1Dir.html#41be323b2d1e393c715609d29e06def3">close()</a> when it goes out of scope. 
</div>
</div><p>
<a class="anchor" name="7ca37d6a39fd9a7dcdf69e51c653127c"></a><!-- doxytag: member="Xfc::G::Dir::read_name" ref="7ca37d6a39fd9a7dcdf69e51c653127c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* Xfc::G::Dir::read_name           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves the name of the next entry in the directory (the '. 
<p>
' and '..' entries are omitted). <dl class="return" compact><dt><b>Returns:</b></dt><dd>The entry's name or null if there are no more entries.</dd></dl>
The return value is owned by GLib and must not be modified or freed. 
</div>
</div><p>
<a class="anchor" name="2ac04062b757036f5790cceb4b7ef3ef"></a><!-- doxytag: member="Xfc::G::Dir::read_names" ref="2ac04062b757036f5790cceb4b7ef3ef" args="(std::vector&lt; std::string &gt; &amp;names)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Xfc::G::Dir::read_names           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>names</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a list of the names of all the entries in the directory (the '. 
<p>
' and '..' entries are omitted). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>names</em>&nbsp;</td><td>A reference to a vector of <a class="el" href="classXfc_1_1String.html">String</a> to hold the names. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 on failure, otherwise an integer value indicating the degree of success.</dd></dl>
This method retrieves the name of each entry and calls <a class="el" href="classXfc_1_1String.html#1b9579a5346a9a51d4c099551801f795">String::from_filename()</a> to convert the string from the encoding used for filenames into a UTF-8 <a class="el" href="classXfc_1_1String.html">String</a>. If this method successfully converts all entry names the return value is 0. If any entry names couldn't be converted the return value is the number of failed conversions. If you want to know the entry names of all failed conversions you should call <a class="el" href="classXfc_1_1G_1_1Dir.html#7ca37d6a39fd9a7dcdf69e51c653127c">read_name()</a> instead. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="fileutils_8hh.html">fileutils.hh</a></ul>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Xfce Foundation Classes</title>
  <meta content="The XFC Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body>
<hr style="width: 100%; height: 1px;" noshade="noshade">
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 33%; font-style: italic;"><font size="-1">Copyright
&copy; 2004-2005 The XFC
Development Team</font></td>
      <td style="width: 33%; text-align: right;"><font size="-1">XFC
4.3</font><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</body>
</html>
