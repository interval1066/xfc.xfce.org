<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>



  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">



  
  
  
  
  
  
  <title>Xfce Foundation Classes</title>
  <meta content="XFC Reference Manual" name="description">



  
  
  
  <meta content="The XFC Development Team" name="author">



  
  
  
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>


<body>



<table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="background-color: rgb(21, 67, 116); text-align: center; height: 25px;"><span style="color: rgb(255, 255, 192); font-weight: bold; font-family: Helvetica,Arial,sans-serif;"><br>



      </span></td>



    </tr>



    <tr>



      <td style="text-align: center; background-color: rgb(255, 255, 255); height: 25px;"><span style="font-weight: bold; font-family: Helvetica,Arial,sans-serif; color: rgb(17, 55, 95);">Xfce
Foundation Classes</span><br>



      </td>



    </tr>



    <tr style="font-family: Helvetica,Arial,sans-serif;">



      <td style="height: 25px; text-align: center; background-color: rgb(153, 169, 192);"><font size="-1"><a class="qindexH" href="../../index.html">Main Page</a>&nbsp;
| <a class="qindexH" href="index.html">Index</a> |&nbsp; <a class="qindexH" href="namespaces.html">Namespace
List</a>&nbsp; |&nbsp; <a class="qindexH" href="classes.html">Alphabetical
List</a>&nbsp;
|&nbsp; <a class="qindexH" href="annotated.html">Class List</a>&nbsp;
|&nbsp; <a class="qindexH" href="files.html">File List</a></font> </td>



    </tr>



  
  
  
  </tbody>
</table>



<br>



<br>



</body>
</html>
<!-- Generated by Doxygen 1.5.1 -->
<div class="nav">
<a class="el" href="namespaceXfc.html">Xfc</a>::<a class="el" href="namespaceXfc_1_1G.html">G</a>::<a class="el" href="classXfc_1_1G_1_1Module.html">Module</a></div>
<h1>Xfc::G::Module Class Reference</h1><!-- doxytag: class="Xfc::G::Module" --><!-- doxytag: inherits="Xfc::Object" -->A GModule C++ wrapper interface.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;xfc/glib/module.hh&gt;</code>
<p>
<p>Inheritance diagram for Xfc::G::Module:
<p><center><img src="classXfc_1_1G_1_1Module.png" usemap="#Xfc::G::Module_map" border="0" alt=""></center>
<map name="Xfc::G::Module_map">
<area href="classXfc_1_1Object.html" alt="Xfc::Object" shape="rect" coords="0,56,95,80">
<area href="classXfc_1_1Trackable.html" alt="Xfc::Trackable" shape="rect" coords="0,0,95,24">
</map>
<a href="classXfc_1_1G_1_1Module-members.html">List of all members.</a><h2>Public Member Functions</h2>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<ul>
<li><a class="anchor" name="80d4a68ff8a6c5669665d37a97ead812"></a><!-- doxytag: member="Xfc::G::Module::g_module" ref="80d4a68ff8a6c5669665d37a97ead812" args="() const" -->
GModule * <a class="el" href="classXfc_1_1G_1_1Module.html#80d4a68ff8a6c5669665d37a97ead812">g_module</a> () const
<dl class="el"><dd class="mdescRight">Get a pointer to the GModule object. <br></dl><li><a class="anchor" name="e5cdef3a5c3e3e53dda101d87bdc510d"></a><!-- doxytag: member="Xfc::G::Module::operator GModule *" ref="e5cdef3a5c3e3e53dda101d87bdc510d" args="() const" -->
<a class="el" href="classXfc_1_1G_1_1Module.html#e5cdef3a5c3e3e53dda101d87bdc510d">operator GModule *</a> () const
<dl class="el"><dd class="mdescRight">Conversion operator; Safely converts a <a class="el" href="classXfc_1_1G_1_1Module.html">G::Module</a> object into a GModule pointer. <br></dl><li><a class="el" href="classXfc_1_1String.html">String</a> <a class="el" href="classXfc_1_1G_1_1Module.html#4521b198cf05bb8c93781f2b2bae9036">name</a> () const
<dl class="el"><dd class="mdescRight">Gets the filename of the module.  <a href="#4521b198cf05bb8c93781f2b2bae9036"></a><br></dl></ul>
<tr><td colspan="2"><div class="groupHeader">Methods</div></td></tr>
<ul>
<li>bool <a class="el" href="classXfc_1_1G_1_1Module.html#63a89b5458f50edecdad50e0630afb59">close</a> ()
<dl class="el"><dd class="mdescRight">Closes the module.  <a href="#63a89b5458f50edecdad50e0630afb59"></a><br></dl><li>void <a class="el" href="classXfc_1_1G_1_1Module.html#522f586a0fd57c51f2ae42478211a7a7">make_resident</a> ()
<dl class="el"><dd class="mdescRight">Ensures that the module will never be unloaded.  <a href="#522f586a0fd57c51f2ae42478211a7a7"></a><br></dl><li>bool <a class="el" href="classXfc_1_1G_1_1Module.html#3b18b5ab9d0322e1e303693b92496b88">symbol</a> (const <a class="el" href="classXfc_1_1String.html">String</a> &amp;symbol_name, void **symbol)
<dl class="el"><dd class="mdescRight">Gets a symbol pointer from the module.  <a href="#3b18b5ab9d0322e1e303693b92496b88"></a><br></dl></ul>
<h2>Static Public Member Functions</h2>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<ul>
<li>static bool <a class="el" href="classXfc_1_1G_1_1Module.html#2b652fcd6b2a14de0c742fce3a510a52">supported</a> ()
<dl class="el"><dd class="mdescRight">Checks if modules are supported on the current platform.  <a href="#2b652fcd6b2a14de0c742fce3a510a52"></a><br></dl><li>static <a class="el" href="classXfc_1_1String.html">String</a> <a class="el" href="classXfc_1_1G_1_1Module.html#1a40f42b02f33514c3dd8f3504c88e86">error</a> ()
<dl class="el"><dd class="mdescRight">Gets a string describing the last module error.  <a href="#1a40f42b02f33514c3dd8f3504c88e86"></a><br></dl></ul>
<tr><td colspan="2"><div class="groupHeader">Methods</div></td></tr>
<ul>
<li>static <a class="el" href="classXfc_1_1G_1_1Module.html">Module</a> * <a class="el" href="classXfc_1_1G_1_1Module.html#32cb8872b164343e58badc547563f581">open</a> (const <a class="el" href="classXfc_1_1String.html">String</a> &amp;file_name, <a class="el" href="namespaceXfc_1_1G.html#39734e7502e87f1a2dfea7a2ba8e2f48">ModuleFlagsField</a> flags)
<dl class="el"><dd class="mdescRight">Opens a module; if the module has already been opened, its reference count is incremented.  <a href="#32cb8872b164343e58badc547563f581"></a><br></dl><li>static <a class="el" href="classXfc_1_1String.html">String</a> <a class="el" href="classXfc_1_1G_1_1Module.html#bff8e58d8f20230215b6ad5084eec9b2">build_path</a> (const <a class="el" href="classXfc_1_1String.html">String</a> &amp;module_name)
<dl class="el"><dd class="mdescRight">A portable way to build the filename of a module.  <a href="#bff8e58d8f20230215b6ad5084eec9b2"></a><br></dl><li>static <a class="el" href="classXfc_1_1String.html">String</a> <a class="el" href="classXfc_1_1G_1_1Module.html#a2ca3f3a7cbe74897192bfdaa8f06cde">build_path</a> (const <a class="el" href="classXfc_1_1String.html">String</a> &amp;directory, const <a class="el" href="classXfc_1_1String.html">String</a> &amp;module_name)
<dl class="el"><dd class="mdescRight">A portable way to build the filename of a module.  <a href="#a2ca3f3a7cbe74897192bfdaa8f06cde"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A GModule C++ wrapper interface. 
<p>
<a class="el" href="classXfc_1_1G_1_1Module.html">Module</a> provides a portable way to dynamically load object files (commonly known as 'plug-ins'). The current implementation supports all systems that provide an implementation of dlopen() (e.g. Linux/Sun), as well as HP-UX via its shl_load() mechanism, and Windows platforms via DLLs.<p>
To use <a class="el" href="classXfc_1_1G_1_1Module.html">Module</a> you must first determine whether dynamic loading is supported on the platform by calling <a class="el" href="classXfc_1_1G_1_1Module.html#2b652fcd6b2a14de0c742fce3a510a52">G::Module::supported()</a>. If it is, you can open a module with G::Module::open(), find the module's symbols (e.g. function names) with G::Module::symbol(), and later close the module with <a class="el" href="classXfc_1_1G_1_1Module.html#63a89b5458f50edecdad50e0630afb59">G::Module::close()</a>. <a class="el" href="classXfc_1_1G_1_1Module.html#4521b198cf05bb8c93781f2b2bae9036">G::Module::name()</a> will return the file name of a currently opened module. If any of these methods fail, the error status can be found with <a class="el" href="classXfc_1_1G_1_1Module.html#1a40f42b02f33514c3dd8f3504c88e86">G::Module::error()</a>.<p>
If your module introduces static data to common subsystems in the running program it must ensure that it is never unloaded, by calling <a class="el" href="classXfc_1_1G_1_1Module.html#522f586a0fd57c51f2ae42478211a7a7">G::Module::make_resident()</a>. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5e57e2b6173fd0a97a68f7525c6616ec"></a><!-- doxytag: member="Xfc::G::Module::Module" ref="5e57e2b6173fd0a97a68f7525c6616ec" args="(GModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::G::Module::Module           </td>
          <td>(</td>
          <td class="paramtype">GModule *&nbsp;</td>
          <td class="paramname"> <em>module</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a new module from an existing GModule. 
<p>
When the module is destroyed it close will be called to close the module 
</div>
</div><p>
<a class="anchor" name="5e57e2b6173fd0a97a68f7525c6616ec"></a><!-- doxytag: member="Xfc::G::Module::Module" ref="5e57e2b6173fd0a97a68f7525c6616ec" args="(GModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::G::Module::Module           </td>
          <td>(</td>
          <td class="paramtype">GModule *&nbsp;</td>
          <td class="paramname"> <em>module</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a new module from an existing GModule. 
<p>
When the module is destroyed it close will be called to close the module 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4521b198cf05bb8c93781f2b2bae9036"></a><!-- doxytag: member="Xfc::G::Module::name" ref="4521b198cf05bb8c93781f2b2bae9036" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXfc_1_1String.html">String</a> Xfc::G::Module::name           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the filename of the module. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The filename of the module, or "main" if the module is the main program itself. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2b652fcd6b2a14de0c742fce3a510a52"></a><!-- doxytag: member="Xfc::G::Module::supported" ref="2b652fcd6b2a14de0c742fce3a510a52" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool Xfc::G::Module::supported           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if modules are supported on the current platform. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> if modules are supported. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1a40f42b02f33514c3dd8f3504c88e86"></a><!-- doxytag: member="Xfc::G::Module::error" ref="1a40f42b02f33514c3dd8f3504c88e86" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classXfc_1_1String.html">String</a> Xfc::G::Module::error           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a string describing the last module error. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string describing the last module error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="63a89b5458f50edecdad50e0630afb59"></a><!-- doxytag: member="Xfc::G::Module::close" ref="63a89b5458f50edecdad50e0630afb59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Xfc::G::Module::close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the module. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> if successful. </dd></dl>

</div>
</div><p>
<a class="anchor" name="522f586a0fd57c51f2ae42478211a7a7"></a><!-- doxytag: member="Xfc::G::Module::make_resident" ref="522f586a0fd57c51f2ae42478211a7a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xfc::G::Module::make_resident           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Ensures that the module will never be unloaded. 
<p>
Any future <a class="el" href="classXfc_1_1G_1_1Module.html#63a89b5458f50edecdad50e0630afb59">close()</a> calls on the module will be ignored. 
</div>
</div><p>
<a class="anchor" name="3b18b5ab9d0322e1e303693b92496b88"></a><!-- doxytag: member="Xfc::G::Module::symbol" ref="3b18b5ab9d0322e1e303693b92496b88" args="(const String &amp;symbol_name, void **symbol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Xfc::G::Module::symbol           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>symbol_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>symbol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a symbol pointer from the module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>symbol_name</em>&nbsp;</td><td>The name of the symbol to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>symbol</em>&nbsp;</td><td>The return location for a pointer to the symbol value. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="32cb8872b164343e58badc547563f581"></a><!-- doxytag: member="Xfc::G::Module::open" ref="32cb8872b164343e58badc547563f581" args="(const String &amp;file_name, ModuleFlagsField flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classXfc_1_1G_1_1Module.html">Module</a>* Xfc::G::Module::open           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXfc_1_1G.html#39734e7502e87f1a2dfea7a2ba8e2f48">ModuleFlagsField</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens a module; if the module has already been opened, its reference count is incremented. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file_name</em>&nbsp;</td><td>The name of the file containing the module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>One or more <a class="el" href="namespaceXfc_1_1G.html#5ebfbbcb742c0fb6743625694b667935">G::ModuleFlags</a> used for opening the module. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A <a class="el" href="classXfc_1_1G_1_1Module.html">Module</a> on success, or null on failure.</dd></dl>
First of all this method tries to open <em>filename</em> as a module. If that fails and <em>filename</em> has the ".la" suffix (and is a libtool archive) it tries to open the corresponding module. If that fails and it doesn't have the proper module suffix for the platform (G_MODULE_SUFFIX), this suffix will be appended and the corresponding module will be opended. If that fails and <em>filename</em> doesn't have the ".la"-suffix, this suffix is appended and open() tries to open the corresponding module. If eventually that fails as well, null is returned. 
</div>
</div><p>
<a class="anchor" name="bff8e58d8f20230215b6ad5084eec9b2"></a><!-- doxytag: member="Xfc::G::Module::build_path" ref="bff8e58d8f20230215b6ad5084eec9b2" args="(const String &amp;module_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classXfc_1_1String.html">String</a> Xfc::G::Module::build_path           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>module_name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A portable way to build the filename of a module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_name</em>&nbsp;</td><td>The name of the module.</td></tr>
  </table>
</dl>
This method is not recommended because it uses the standard platform-specific directories to build the filename and the wrong module may be found (see <a class="el" href="classXfc_1_1G_1_1Module.html#a2ca3f3a7cbe74897192bfdaa8f06cde">build_path(const String&amp;, const String&amp;)</a>). 
</div>
</div><p>
<a class="anchor" name="a2ca3f3a7cbe74897192bfdaa8f06cde"></a><!-- doxytag: member="Xfc::G::Module::build_path" ref="a2ca3f3a7cbe74897192bfdaa8f06cde" args="(const String &amp;directory, const String &amp;module_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classXfc_1_1String.html">String</a> Xfc::G::Module::build_path           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>module_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A portable way to build the filename of a module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>directory</em>&nbsp;</td><td>The directory where the module is. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>module_name</em>&nbsp;</td><td>The name of the module. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The complete path of the module, including the standard library prefix and suffix.</dd></dl>
The platform-specific prefix and suffix are added to the filename, if needed, and the result is added to the directory, using the correct separator character.<p>
The directory should specify the directory where the module can be found. It can be null or an empty string to indicate that the module is in a standard platform-specific directory, though this is not recommended since the wrong module may be found. For example, calling <a class="el" href="namespaceXfc_1_1G.html#c4515302a2472d78c459c4ae6923f3f3">build_path()</a> on a Linux system with a directory of /lib and a module_name of "mylibrary" will return /lib/libmylibrary.so. On a Windows system, using \Windows as the directory it will return \Windows\mylibrary.dll. To be absoultely sure to get the correct module, always pass in a directory. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="module_8hh.html">module.hh</a></ul>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Xfce Foundation Classes</title>
  <meta content="The XFC Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body>
<hr style="width: 100%; height: 1px;" noshade="noshade">
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 33%; font-style: italic;"><font size="-1">Copyright
&copy; 2004-2005 The XFC
Development Team</font></td>
      <td style="width: 33%; text-align: right;"><font size="-1">XFC
4.3</font><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</body>
</html>
