<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>



  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">



  
  
  
  
  
  
  <title>Xfce Foundation Classes</title>
  <meta content="XFC Reference Manual" name="description">



  
  
  
  <meta content="The XFC Development Team" name="author">



  
  
  
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>


<body>



<table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="background-color: rgb(21, 67, 116); text-align: center; height: 25px;"><span style="color: rgb(255, 255, 192); font-weight: bold; font-family: Helvetica,Arial,sans-serif;"><br>



      </span></td>



    </tr>



    <tr>



      <td style="text-align: center; background-color: rgb(255, 255, 255); height: 25px;"><span style="font-weight: bold; font-family: Helvetica,Arial,sans-serif; color: rgb(17, 55, 95);">Xfce
Foundation Classes</span><br>



      </td>



    </tr>



    <tr style="font-family: Helvetica,Arial,sans-serif;">



      <td style="height: 25px; text-align: center; background-color: rgb(153, 169, 192);"><font size="-1"><a class="qindexH" href="../../index.html">Main Page</a>&nbsp;
| <a class="qindexH" href="index.html">Index</a> |&nbsp; <a class="qindexH" href="namespaces.html">Namespace
List</a>&nbsp; |&nbsp; <a class="qindexH" href="classes.html">Alphabetical
List</a>&nbsp;
|&nbsp; <a class="qindexH" href="annotated.html">Class List</a>&nbsp;
|&nbsp; <a class="qindexH" href="files.html">File List</a></font> </td>



    </tr>



  
  
  
  </tbody>
</table>



<br>



<br>



</body>
</html>
<!-- Generated by Doxygen 1.5.1 -->
<div class="nav">
<a class="el" href="namespaceXfc.html">Xfc</a>::<a class="el" href="namespaceXfc_1_1G.html">G</a>::<a class="el" href="classXfc_1_1G_1_1Private.html">Private</a></div>
<h1>Xfc::G::Private&lt; T &gt; Class Template Reference</h1><!-- doxytag: class="Xfc::G::Private" --><!-- doxytag: inherits="Xfc::G::StaticPrivate" -->A run-time GStaticPrivate C++ wrapper interface.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;xfc/glib/thread.hh&gt;</code>
<p>
<p>Inheritance diagram for Xfc::G::Private&lt; T &gt;:
<p><center><img src="classXfc_1_1G_1_1Private.png" usemap="#Xfc::G::Private< T >_map" border="0" alt=""></center>
<map name="Xfc::G::Private< T >_map">
<area href="structXfc_1_1G_1_1StaticPrivate.html" alt="Xfc::G::StaticPrivate< T >" shape="rect" coords="0,0,155,24">
</map>
<a href="classXfc_1_1G_1_1Private-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename T&gt;<br>
 class Xfc::G::Private&lt; T &gt;</h3>

A run-time GStaticPrivate C++ wrapper interface. 
<p>
The <a class="el" href="classXfc_1_1G_1_1Private.html">Private</a> object represents a thread private data key. Threads can thereby obtain and set a pointer, which is private to the current thread. Take our give_me_next_number() example from previously. Now we don't want current_number to be shared between the threads, but to be private to each thread. This can be done as follows:<p>
<b>Example:</b> Using <a class="el" href="classXfc_1_1G_1_1Private.html">G::Private</a> for per-thread data. <div class="fragment"><pre class="fragment"> G::Private&lt;int&gt; *current_number_key = 0; <span class="comment">// Must be initialized somewhere.</span>

 <span class="keywordtype">int</span> give_me_next_number()
 {
        <span class="keywordtype">int</span> *current_number = current_number_key-&gt;get();

        <span class="keywordflow">if</span> (!current_number)
        {
                current_number = <span class="keyword">new</span> int;
                *current_number = 0;
                current_number_key-&gt;set(current_number);
        }
        *current_number = calc_next_number(*current_number);
        <span class="keywordflow">return</span> *current_number;
 }
</pre></div><p>
Here the pointer belonging to the key current_number_key is read. If it is null, it has not been set yet. Then get memory for an integer value, assign this memory to the pointer and write the pointer back. Now we have an integer value, that is private to the current thread. 
<p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="thread_8hh.html">thread.hh</a></ul>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Xfce Foundation Classes</title>
  <meta content="The XFC Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body>
<hr style="width: 100%; height: 1px;" noshade="noshade">
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 33%; font-style: italic;"><font size="-1">Copyright
&copy; 2004-2005 The XFC
Development Team</font></td>
      <td style="width: 33%; text-align: right;"><font size="-1">XFC
4.3</font><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</body>
</html>
