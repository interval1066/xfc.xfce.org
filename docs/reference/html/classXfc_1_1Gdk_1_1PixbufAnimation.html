<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>



  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">



  
  
  
  
  
  
  <title>Xfce Foundation Classes</title>
  <meta content="XFC Reference Manual" name="description">



  
  
  
  <meta content="The XFC Development Team" name="author">



  
  
  
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>


<body>



<table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="background-color: rgb(21, 67, 116); text-align: center; height: 25px;"><span style="color: rgb(255, 255, 192); font-weight: bold; font-family: Helvetica,Arial,sans-serif;"><br>



      </span></td>



    </tr>



    <tr>



      <td style="text-align: center; background-color: rgb(255, 255, 255); height: 25px;"><span style="font-weight: bold; font-family: Helvetica,Arial,sans-serif; color: rgb(17, 55, 95);">Xfce
Foundation Classes</span><br>



      </td>



    </tr>



    <tr style="font-family: Helvetica,Arial,sans-serif;">



      <td style="height: 25px; text-align: center; background-color: rgb(153, 169, 192);"><font size="-1"><a class="qindexH" href="../../index.html">Main Page</a>&nbsp;
| <a class="qindexH" href="index.html">Index</a> |&nbsp; <a class="qindexH" href="namespaces.html">Namespace
List</a>&nbsp; |&nbsp; <a class="qindexH" href="classes.html">Alphabetical
List</a>&nbsp;
|&nbsp; <a class="qindexH" href="annotated.html">Class List</a>&nbsp;
|&nbsp; <a class="qindexH" href="files.html">File List</a></font> </td>



    </tr>



  
  
  
  </tbody>
</table>



<br>



<br>



</body>
</html>
<!-- Generated by Doxygen 1.5.1 -->
<div class="nav">
<a class="el" href="namespaceXfc.html">Xfc</a>::<a class="el" href="namespaceXfc_1_1Gdk.html">Gdk</a>::<a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a></div>
<h1>Xfc::Gdk::PixbufAnimation Class Reference</h1><!-- doxytag: class="Xfc::Gdk::PixbufAnimation" --><!-- doxytag: inherits="Xfc::G::Object" -->A GdkPixbufAnimation C++ wrapper class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;xfc/gdk-pixbuf/pixbuf-animation.hh&gt;</code>
<p>
<p>Inheritance diagram for Xfc::Gdk::PixbufAnimation:
<p><center><img src="classXfc_1_1Gdk_1_1PixbufAnimation.png" usemap="#Xfc::Gdk::PixbufAnimation_map" border="0" alt=""></center>
<map name="Xfc::Gdk::PixbufAnimation_map">
<area href="classXfc_1_1G_1_1Object.html" alt="Xfc::G::Object" shape="rect" coords="0,112,156,136">
<area href="classXfc_1_1G_1_1TypeInstance.html" alt="Xfc::G::TypeInstance" shape="rect" coords="0,56,156,80">
<area href="classXfc_1_1Trackable.html" alt="Xfc::Trackable" shape="rect" coords="0,0,156,24">
</map>
<a href="classXfc_1_1Gdk_1_1PixbufAnimation-members.html">List of all members.</a><h2>Public Member Functions</h2>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<ul>
<li><a class="anchor" name="4a152508cf3db693c1cd9d3c057b2940"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::gdk_pixbuf_animation" ref="4a152508cf3db693c1cd9d3c057b2940" args="() const" -->
GdkPixbufAnimation * <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#4a152508cf3db693c1cd9d3c057b2940">gdk_pixbuf_animation</a> () const
<dl class="el"><dd class="mdescRight">Get a pointer to the GdkPixbufAnimation structure. <br></dl><li><a class="anchor" name="8f13102ebed626a0cbb3841cd50d5006"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::operator GdkPixbufAnimation *" ref="8f13102ebed626a0cbb3841cd50d5006" args="() const" -->
<a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#8f13102ebed626a0cbb3841cd50d5006">operator GdkPixbufAnimation *</a> () const
<dl class="el"><dd class="mdescRight">Conversion operator; safely converts a <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> to a GdkPixbufAnimation pointer. <br></dl><li><a class="anchor" name="60e5a57bd0e883dd322a182def76d2fa"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::get_width" ref="60e5a57bd0e883dd322a182def76d2fa" args="() const" -->
int <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#60e5a57bd0e883dd322a182def76d2fa">get_width</a> () const
<dl class="el"><dd class="mdescRight">Returns the width of the bounding box of a pixbuf animation. <br></dl><li><a class="anchor" name="0c611e6ad84c9c26a5f5e84f9f7d3ba0"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::get_height" ref="0c611e6ad84c9c26a5f5e84f9f7d3ba0" args="() const" -->
int <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#0c611e6ad84c9c26a5f5e84f9f7d3ba0">get_height</a> () const
<dl class="el"><dd class="mdescRight">Returns the height of the bounding box of a pixbuf animation. <br></dl><li>bool <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#6e693e7899ada8bd6ee189043f744c7a">is_static_image</a> () const
<dl class="el"><dd class="mdescRight">If you load a file and it turns out to be a plain, unanimated image, then this method will return true.  <a href="#6e693e7899ada8bd6ee189043f744c7a"></a><br></dl><li><a class="el" href="classXfc_1_1Gdk_1_1Pixbuf.html">Pixbuf</a> * <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#4bcbb29c2bb20654c233970f362942b1">get_static_image</a> () const
<dl class="el"><dd class="mdescRight">If an animation is really just a plain image (has only one frame), this method returns that image.  <a href="#4bcbb29c2bb20654c233970f362942b1"></a><br></dl><li><a class="el" href="classXfc_1_1Pointer.html">Pointer</a>&lt; <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html">PixbufAnimationIter</a> &gt; <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#004d58ecd0101de6d5e8ee4967b28be7">get_iter</a> (const GTimeVal *start_time=0) const
<dl class="el"><dd class="mdescRight">Get an iterator for displaying an animation.  <a href="#004d58ecd0101de6d5e8ee4967b28be7"></a><br></dl></ul>
<h2>Static Public Member Functions</h2>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<ul>
<li>static <a class="el" href="classXfc_1_1Pointer.html">Pointer</a>&lt; <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> &gt; <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#642a331c522644a6094b3a32dade4665">create</a> (const <a class="el" href="classXfc_1_1String.html">String</a> &amp;filename, <a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *error)
<dl class="el"><dd class="mdescRight">Constructs a new animation by loading it from a file.  <a href="#642a331c522644a6094b3a32dade4665"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A GdkPixbufAnimation C++ wrapper class. 
<p>
<a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> provides a simple mechanism to load and represent animations. An animation is conceptually a series of frames to be displayed over time. Each frame is the same size. The animation may not be represented as a series of frames internally; for example, it may be stored as a sprite and instructions for moving the sprite around a background. To display an animation you don't need to understand its representation, however; you just ask gdk-pixbuf what should be displayed at a given point in time. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="49144659b57c9db876ae581e906baee5"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::PixbufAnimation" ref="49144659b57c9db876ae581e906baee5" args="(GdkPixbufAnimation *pixbuf_animation, bool owns_reference=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::Gdk::PixbufAnimation::PixbufAnimation           </td>
          <td>(</td>
          <td class="paramtype">GdkPixbufAnimation *&nbsp;</td>
          <td class="paramname"> <em>pixbuf_animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>owns_reference</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct a new <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> from an existing GdkPixbufAnimation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pixbuf_animation</em>&nbsp;</td><td>A pointer to a GdkPixbufAnimation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>owns_reference</em>&nbsp;</td><td>Set false if the initial reference count is floating, set true if it's not.</td></tr>
  </table>
</dl>
The <em>pixbuf_animation</em> can be a newly created GdkPixbufAnimation or an existing GdkPixbufAnimation. (see G::Object::Object). 
</div>
</div><p>
<a class="anchor" name="49144659b57c9db876ae581e906baee5"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::PixbufAnimation" ref="49144659b57c9db876ae581e906baee5" args="(GdkPixbufAnimation *pixbuf_animation, bool owns_reference=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xfc::Gdk::PixbufAnimation::PixbufAnimation           </td>
          <td>(</td>
          <td class="paramtype">GdkPixbufAnimation *&nbsp;</td>
          <td class="paramname"> <em>pixbuf_animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>owns_reference</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct a new <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> from an existing GdkPixbufAnimation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pixbuf_animation</em>&nbsp;</td><td>A pointer to a GdkPixbufAnimation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>owns_reference</em>&nbsp;</td><td>Set false if the initial reference count is floating, set true if it's not.</td></tr>
  </table>
</dl>
The <em>pixbuf_animation</em> can be a newly created GdkPixbufAnimation or an existing GdkPixbufAnimation. (see G::Object::Object). 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="642a331c522644a6094b3a32dade4665"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::create" ref="642a331c522644a6094b3a32dade4665" args="(const String &amp;filename, G::Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classXfc_1_1Pointer.html">Pointer</a>&lt;<a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a>&gt; Xfc::Gdk::PixbufAnimation::create           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXfc_1_1String.html">String</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXfc_1_1G_1_1Error.html">G::Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a new animation by loading it from a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Ther name of file to load. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The return location for any error. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html">PixbufAnimation</a> smart pointer.</dd></dl>
The file format is detected automatically. If the file's format does not support multi-frame images, then an animation with a single frame will be created. Possible errors are in the GDK_PIXBUF_ERROR and G_FILE_ERROR domains. Possible error conditions include: the file could not be opened, there was no loader for the file's format, there was not enough memory to allocate the image buffer, or the image file contained invalid data. 
</div>
</div><p>
<a class="anchor" name="6e693e7899ada8bd6ee189043f744c7a"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::is_static_image" ref="6e693e7899ada8bd6ee189043f744c7a" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Xfc::Gdk::PixbufAnimation::is_static_image           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If you load a file and it turns out to be a plain, unanimated image, then this method will return true. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em>true</em> if the "animation" was really just an image.</dd></dl>
Use <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimation.html#4bcbb29c2bb20654c233970f362942b1">get_static_image()</a> to retrieve the image. 
</div>
</div><p>
<a class="anchor" name="4bcbb29c2bb20654c233970f362942b1"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::get_static_image" ref="4bcbb29c2bb20654c233970f362942b1" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXfc_1_1Gdk_1_1Pixbuf.html">Pixbuf</a>* Xfc::Gdk::PixbufAnimation::get_static_image           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If an animation is really just a plain image (has only one frame), this method returns that image. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An unanimated image representing the animation.</dd></dl>
If the animation is an animation, this function returns a reasonable thing to display as a static unanimated image, which might be the first frame, or something more sophisticated. If an animation hasn't loaded any frames yet, this function will return null. 
</div>
</div><p>
<a class="anchor" name="004d58ecd0101de6d5e8ee4967b28be7"></a><!-- doxytag: member="Xfc::Gdk::PixbufAnimation::get_iter" ref="004d58ecd0101de6d5e8ee4967b28be7" args="(const GTimeVal *start_time=0) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXfc_1_1Pointer.html">Pointer</a>&lt;<a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html">PixbufAnimationIter</a>&gt; Xfc::Gdk::PixbufAnimation::get_iter           </td>
          <td>(</td>
          <td class="paramtype">const GTimeVal *&nbsp;</td>
          <td class="paramname"> <em>start_time</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get an iterator for displaying an animation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start_time</em>&nbsp;</td><td>The time when the animation starts playing, or null to automatically use the result of g_get_current_time(). </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An iterator to move over the animation</dd></dl>
The iterator provides the frames that should be displayed at a given time. <em>start_time</em> would normally come from g_get_current_time(), and marks the beginning of animation playback. After creating an iterator, you should immediately display the pixbuf returned by <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html#50ede981df59bcc8c9656a26856269cd">Gdk::PixbufAnimationIter::get_pixbuf()</a>. Then, you should install a timeout (with g_timeout_add()) or by some other mechanism to ensure that you'll update the image after <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html#90f60b32700cb7d2c3cd25db5b54420f">Gdk::PixbufAnimationIter::get_delay_time()</a> milliseconds. Each time the image is updated, you should reinstall the timeout with the new, possibly-changed delay time. As a shortcut, if start_time is null, the result of g_get_current_time() will be used automatically.<p>
To update the image (i.e. possibly change the result of <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html#50ede981df59bcc8c9656a26856269cd">Gdk::PixbufAnimationIter::get_pixbuf()</a> to a new frame of the animation), call <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html#2a33238e52e7c68b3294f04752410aff">Gdk::PixbufAnimationIter::advance()</a>.<p>
If you're using <a class="el" href="classXfc_1_1Gdk_1_1PixbufLoader.html">PixbufLoader</a>, in addition to updating the image after the delay time, you should also update it whenever you receive the <em>area_updated</em> signal and <a class="el" href="classXfc_1_1Gdk_1_1PixbufAnimationIter.html#cce58265dd67a85d80a17479c002093b">Gdk::PixbufAnimationIter::on_currently_loading_frame()</a> returns true. In this case, the frame currently being fed into the loader has received new data, so needs to be refreshed. The delay time for a frame may also be modified after an <em>area_updated</em> signal, for example if the delay time for a frame is encoded in the data after the frame itself. So your timeout should be reinstalled after any <em>area_updated</em> signal. A delay time of -1 is possible, indicating "infinite." 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="pixbuf-animation_8hh.html">pixbuf-animation.hh</a></ul>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Xfce Foundation Classes</title>
  <meta content="The XFC Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body>
<hr style="width: 100%; height: 1px;" noshade="noshade">
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 33%; font-style: italic;"><font size="-1">Copyright
&copy; 2004-2005 The XFC
Development Team</font></td>
      <td style="width: 33%; text-align: right;"><font size="-1">XFC
4.3</font><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</body>
</html>
